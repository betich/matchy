(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[15],{132:function(t,e,a){"use strict";a.r(e);var n=a(2),r=a(19),s=a.n(r),i=a(26),u=a(107),c=a(108),o=a(106),h=a(110),d=a(109),l=a(41),p=a.n(l),b=a(1),f=a.n(b),v=a(125),j=a(111),O=a(121),m=function(t){Object(h.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(u.a)(this,a),(n=e.call(this,t)).state={data:{},errors:{}},n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(o.a)(n)),n.validateData=n.validateData.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleInputChange",value:function(t){this.setState({data:t})}},{key:"validateData",value:function(t){var e=Object(j.a)(t),a=e.valid,n=e.invalidData;return a?(this.setState({errors:{}}),!0):(this.setState({errors:n}),!1)}},{key:"handleSubmit",value:function(){var t=Object(i.a)(s.a.mark((function t(e){var a,n,r,i,u,c=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),a=this.state.data,n=Object(j.a)(a),r=n.valid,i=n.invalidData,r?(u={headers:{"Content-Type":"application/json"}},p.a.post("/app/register",a,u).then((function(t){200===t.status&&(window.flash("Successfully registered ".concat(t.data.username),"success"),c.props.history.push("/users/".concat(t.data.username)))}),(function(t){switch(t.response.status){case 409:c.setState({errors:{username:["username taken"]}});break;default:window.flash("An error occured","error")}}))):this.setState({errors:i});case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Create User"}),Object(n.jsx)(v.a,{onSubmit:this.handleSubmit,noValidate:!0,children:Object(n.jsx)(O.a,{inputChange:this.handleInputChange,errors:this.state.errors,validate:this.validateData})})]})}}]),a}(f.a.Component);e.default=m}}]);
//# sourceMappingURL=15.94a3870d.chunk.js.map