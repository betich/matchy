(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{111:function(e,t,n){"use strict";var a=n(13);t.a=function(e){for(var t={},n=function(e,n){e in t?t[e].push(n):t[e]=[n]},r=0,c=Object.entries(e);r<c.length;r++){var s=Object(a.a)(c[r],2),i=s[0],o=s[1];switch(i){case"username":o.match(/[^a-zA-Z0-9]/g)&&n("username","username contains special characters"),(o.length<2||o.length>30)&&n("username","username length must be 2-30 characters long"),0===o.length&&n("username","no username specified");break;case"fullname":o.match(/^([a-zA-Z0-9]+|[a-zA-Z0-9]+\s{1}[a-zA-Z0-9]{1,}|[a-zA-Z0-9]+\s{1}[a-zA-Z0-9]{3,}\s{1}[a-zA-Z0-9]{1,})$/)||n("fullname","unsupported name format");break;case"login":case"description":break;case"email":o.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||n("email","invalid email format");break;case"password":if(void 0===o)break;o.match(/^(?=.*[a-z])(?=.*\d).{8,}$/)||n("password","password must contain a minimum of eight characters, and at least one letter and one number:");break;case"projectname":var u=o.match(/[^A-Za-z0-9\s]/);o?u&&n("projectname","project name contains special characters"):n("projectname","project name must not be empty");break;case"cucumber":o.some((function(e){return""===e}))&&n("formfield","fill all the fields dumbass");break;case"interests":case"experiences":case"questions":break;case"tags":0===o.length&&n("Tags","at least one tag is required");break;case"birthday":var j=o.day,l=o.month,h=o.year;j&&l&&h||n("birthday","fill out all fields"),2===l?0===h%4&&0!==h%100||0===h%400?(j>29||j<1)&&n("birthday","invalid day"):(j>28||j<1)&&n("birthday","invalid day"):j>[31,28,31,30,31,30,31,31,30,31,30,31][l-1]&&n("birthday","invalid day"),h>(new Date).getUTCFullYear()&&n("birthday","invalid year");break;default:n("invalidKey",[i,o])}}return{valid:0===Object.keys(t).length&&t.constructor===Object,invalidData:t}}},112:function(e,t,n){"use strict";var a=n(2),r=n(13),c=n(102);t.a=function(e){var t=0===Object.keys(e.errors).length&&e.errors.constructor===Object?"":Object.entries(e.errors).map((function(e,t){var n=Object(r.a)(e,2),c=n[0],s=n[1];return Object(a.jsx)("p",{children:"".concat(c,":\n").concat(s.join(",\n"))},t)}));return Object(a.jsx)(a.Fragment,{children:""!==t?Object(a.jsx)(c.a,{variant:"danger",children:Object(a.jsx)("pre",{children:t})}):Object(a.jsx)(a.Fragment,{})})}},113:function(e,t,n){"use strict";var a=n(19),r=n.n(a),c=n(26),s=n(41),i=n.n(s);function o(){return(o=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("/app/users/me");case 3:n=e.sent,t=n.data,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),t=null;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}t.a=function(){return o.apply(this,arguments)}},114:function(e,t,n){"use strict";var a=n(2),r=n(107),c=n(108),s=n(106),i=n(110),o=n(109),u=n(13),j=n(1),l=n.n(j),h=n(100),d=function(e){var t=Object(j.useState)(e.startState),n=Object(u.a)(t,2),r=n[0],c=n[1],s=Object(j.useRef)(!0);return Object(j.useEffect)((function(){s.current?s.current=!1:(0,e.onChange)(e.label,r)}),[r,e.label,e.onChange]),Object(a.jsx)(h.a,{className:"m-1",variant:r?"earthbrown":"outline-earthbrown",onClick:function(e){c(!r)},children:e.label})},b=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var a,c;return Object(r.a)(this,n),(c=t.call(this,e)).state={tags:[]},c.initialState={},c.tagChange=c.tagChange.bind(Object(s.a)(c)),c.props.tags.forEach((function(e){return c.initialState[e]=!1})),null===(a=c.props.onAsDefault)||void 0===a||a.forEach((function(e){c.initialState[e]=!0})),c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.onAsDefault&&this.props.onAsDefault.length>0&&this.setState({tags:this.props.onAsDefault})}},{key:"tagChange",value:function(e,t){var n,a=this;n=function(n){var a=n.findIndex((function(t){return t===e}));return t?n.concat(e):n.slice(0,a).concat(n.slice(a+1,n.length))}(this.state.tags),this.setState({tags:n},(function(){a.props.onChange(a.props.group,a.state.tags)}))}},{key:"render",value:function(){var e=[];for(var t in this.initialState)e.push(Object(a.jsx)(d,{onChange:this.tagChange,group:this.props.group,label:t,startState:this.initialState[t]},t));return Object(a.jsx)(a.Fragment,{children:e})}}]),n}(l.a.Component);t.a=b},115:function(e,t,n){"use strict";var a=n(2);t.a=function(e){return Object(a.jsx)("span",{style:{color:"red"},children:"*"})}},116:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=["Website Design","E-Sports","Video Editing","Photography","Transportation","Tourism","Technology","Supplier","Subscription","Store","Sports","Software","Pets","Organization","Logistics","Insurance","Health","Games","Food","Fintech","Farm","Environment","Entertainment","Education","eCommerce","Delivery","Dealer","Construction","Cafe","Beauty","Audit","Art","Animal","AI","Agency"],r=["Middle School","High School","University","College"]},117:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return x}));var a=n(119),r=n(42),c=n(31),s=n(13),i=n(2),o=n(125),u=n(100),j=n(1),l=n(41),h=n.n(l),d=n(111),b=n(112),p=function(e){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(o.a.Group,{children:[Object(i.jsx)(o.a.Label,{children:e.question.value}),Object(i.jsx)(o.a.Control,{onChange:function(t){e.onChange(e.question.value,t.target.value)}})]})})},O=function(e){var t=Object(j.useState)(e.value),n=Object(s.a)(t,2),a=n[0],r=n[1],l=e.onChange;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o.a.Control,{placeholder:"Question",onChange:function(e){var t=Object(c.a)(Object(c.a)({},a),{},{value:e.target.value});r(t),l(t)},value:e.value.value}),Object(i.jsx)(o.a.Control,{placeholder:"Answer",disabled:!0}),Object(i.jsx)(u.a,{variant:"danger",onClick:function(){var e=Object(c.a)(Object(c.a)({},a),{},{deleting:!0});r(e),l(e)},children:"Delete"})]})},f=function(e){var t=e.project.questions.reduce((function(e,t){return e[t.value]="",e}),{}),n=Object(j.useState)(t),a=Object(s.a)(n,2),l=a[0],O=a[1],f=Object(j.useState)({}),x=Object(s.a)(f,2),m=x[0],g=x[1],v=e.project,C=v.questions,y=function(e,t){var n=Object(c.a)(Object(c.a)({},l),{},Object(r.a)({},e,t));O(n)};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(o.a,{children:[C.map((function(e,t){return Object(i.jsx)(p,{question:e,onChange:y},t)})),Object(i.jsx)(b.a,{errors:m}),Object(i.jsx)(u.a,{onClick:function(t){t.preventDefault();var n={cucumber:Object.values(l)},a=Object(d.a)(n),r=a.valid,c=a.invalidData;if(r){h.a.post("/app/projects/answer/".concat(v._id),l,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){switch(e.response.status){case 409:g({errors:{project:["duplicate project"]}});break;default:console.error(e)}})).finally((function(){e.onSubmit&&e.onSubmit()}))}else g(c)},variant:"info",children:"Submit answer"})]})})},x=function(e){var t=Object(j.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1];Object(j.useEffect)((function(){(0,e.onChange)(r)}),[r,e.onChange]);var o=r.map((function(e,t){return Object(i.jsx)(O,{value:e,onChange:function(e){return function(e,t){var n=r;n[e]=t,n=n.filter((function(e){return!("deleting"in e)||!1===e.deleting})),c(n)}(t,e)}},t)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(u.a,{onClick:function(){c([].concat(Object(a.a)(r),[{value:""}]))},variant:"outline-info",children:"Create"}),o]})}},135:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(1),c=n.n(r),s=n(7),i=n(19),o=n.n(i),u=n(26),j=n(13),l=n(100),h=n(14),d=n(113),b=n(41),p=n.n(b),O=n(122),f=function(e){var t=e.project,n=t.owner,r=t.workers;return Object(a.jsx)(a.Fragment,{children:t&&n&&r?Object(a.jsx)(O.a,{bg:"white",text:"black",style:{width:"18rem"},className:"mb-2",children:Object(a.jsxs)(O.a.Body,{children:[Object(a.jsx)(O.a.Title,{children:t.name}),Object(a.jsx)(O.a.Text,{children:Object(a.jsxs)("i",{children:["by ",n.username]})}),Object(a.jsx)(O.a.Text,{children:t.description}),Object(a.jsx)(O.a.Text,{children:"tags:"}),Object(a.jsx)(O.a.Text,{children:t.tags.map((function(e,t){return Object(a.jsx)(l.a,{variant:"outline-earthbrown",children:e},t)}))}),Object(a.jsx)(h.b,{to:"/projects/".concat(t.owner.username,"/").concat(t.url),children:Object(a.jsx)(l.a,{variant:"outline-info",type:"submit",children:"View"})})]})}):Object(a.jsx)("span",{children:"can't display the project"})})},x=function(e){var t=Object(r.useState)([]),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(null),b=Object(j.a)(i,2),O=b[0],x=b[1],m=Object(r.useState)(!1),g=Object(j.a)(m,2),v=g[0],C=g[1],y=Object(r.useState)(null),w=Object(j.a)(y,2),S=w[0],k=w[1];Object(r.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)();case 2:(t=e.sent)?x(t):k("You have to be logged in first");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),p.a.get("/app/projects").then((function(e){return e.data})).then((function(e){s(e)})).catch((function(e){e.response?500===e.response.status?k("Internal server error"):k(e.response.data):k("An error occured"),console.error(e)})).finally((function(){return C(!0)}))}),[]);var A=c.filter((function(e){return e.owner.username===O.username})),F=c.filter((function(e){return e.workers.some((function(e){return e.username===O.username}))}));A=A.map((function(e){return Object(a.jsx)(f,{project:e},e._id)})),F=F.map((function(e){return Object(a.jsx)(f,{project:e},e._id)}));return Object(a.jsx)(a.Fragment,{children:v?S?Object(a.jsx)("span",{children:S}):Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Projects"}),Object(a.jsx)(h.b,{to:"/projects/create",children:Object(a.jsx)(l.a,{variant:"outline-danger",type:"submit",children:"Create"})}),Object(a.jsxs)("div",{id:"projectLinks",children:[Object(a.jsx)("h4",{children:"Your Projects"}),Object(a.jsx)("div",{className:"d-flex flex-wrap",children:A}),Object(a.jsx)("h4",{children:"Projects you're working with"}),Object(a.jsx)("div",{className:"d-flex flex-wrap",children:F})]})]})," "]}):Object(a.jsx)("span",{children:"loading..."})})},m=n(107),g=n(108),v=n(106),C=n(110),y=n(109),w=n(125),S=n(111),k=n(112),A=n(42),F=n(118),D=n(114),T=n(115),E=n(116),I=n(117),q=function(e){Object(C.a)(n,e);var t=Object(y.a)(n);function n(e){var a;Object(m.a)(this,n);var r=(a=t.call(this,e)).props.oldData;return a.state=r?{projectname:r.name,description:r.description,tags:r.tags,questions:r.questions}:{projectname:"",description:"",tags:[],questions:[]},a.tagChange=a.tagChange.bind(Object(v.a)(a)),a.inputChange=a.inputChange.bind(Object(v.a)(a)),a.formQAChange=a.formQAChange.bind(Object(v.a)(a)),a}return Object(g.a)(n,[{key:"inputChange",value:function(e){var t=this;this.setState(Object(A.a)({},e.target.name,e.target.value),(function(){t.props.inputChange(t.state)}))}},{key:"formQAChange",value:function(e){var t=this;this.setState({questions:e},(function(){t.props.inputChange(t.state)}))}},{key:"tagChange",value:function(e,t){var n=this;switch(e){case"projectTags":this.setState({tags:t},(function(){n.props.inputChange(n.state)}));break;default:console.error("unknown tag group")}}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.a.Row,{children:Object(a.jsxs)(w.a.Group,{as:F.a,sm:12,children:[Object(a.jsxs)(w.a.Label,{children:["Project name ",Object(a.jsx)(T.a,{})]}),Object(a.jsx)(w.a.Control,{name:"projectname",required:!0,type:"text",placeholder:"Example project",value:this.state.projectname,onChange:this.inputChange})]})}),Object(a.jsx)(w.a.Row,{children:Object(a.jsxs)(w.a.Group,{as:F.a,sm:12,children:[Object(a.jsxs)(w.a.Label,{children:["Description ",Object(a.jsx)(T.a,{})]}),Object(a.jsx)(w.a.Control,{name:"description",placeholder:"Description",value:this.state.description,onChange:this.inputChange})]})}),Object(a.jsx)(w.a.Row,{children:Object(a.jsxs)(w.a.Group,{as:F.a,sm:12,className:"mb-3",children:[Object(a.jsxs)(w.a.Label,{children:["Tags: ",Object(a.jsx)(T.a,{})]}),Object(a.jsx)(D.a,{onChange:this.tagChange,tags:E.b,group:"projectTags",onAsDefault:this.state.tags})]})}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{children:"Question and Answer"}),Object(a.jsx)(I.a,{onChange:this.formQAChange})]})]})}}]),n}(c.a.Component),z=function(e){Object(C.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={data:{},errors:{}},a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(v.a)(a)),a}return Object(g.a)(n,[{key:"handleInputChange",value:function(e){this.setState({data:e})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,r,c,s,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=this.state.data,a=Object(S.a)(n),r=a.valid,c=a.invalidData,r?(s={headers:{"Content-Type":"application/json"}},p.a.post("/app/projects",n,s).then((function(e){200===e.status&&(window.flash("Created ".concat(e.data.name),"success"),i.props.history.push("/projects/".concat(e.data.owner.username,"/").concat(e.data.url)))})).catch((function(e){switch(e.response.status){case 409:i.setState({errors:{projectname:["project name taken"]}});break;default:window.flash("An error occured","error"),console.error(e)}}))):this.setState({errors:c});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Create a Project"}),Object(a.jsxs)(w.a,{onSubmit:this.handleSubmit,noValidate:!0,children:[Object(a.jsx)(q,{inputChange:this.handleInputChange}),Object(a.jsx)(k.a,{errors:this.state.errors}),Object(a.jsx)(l.a,{variant:"info",type:"submit",children:"Create"})]})]})}}]),n}(c.a.Component),P=function(e){Object(C.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={data:{},errors:{},loaded:!1,oldProject:null},a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(v.a)(a)),a}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/app/projects/i/".concat(this.props.match.params.id)).then((function(e){return e.data})).then((function(t){e.setState({oldProject:t}),e.setState({tags:t.tags})})).catch((function(e){console.error(e)})).finally((function(){return e.setState({loaded:!0})}))}},{key:"handleInputChange",value:function(e){this.setState({data:e})}},{key:"handleSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,r,c,s,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),this.setState({errors:{}}),n=this.state.data,a=Object(S.a)(n),r=a.valid,c=a.invalidData,r?(s={headers:{"Content-Type":"application/json"}},p.a.put("/app/projects/".concat(this.props.match.params.id),n,s).then((function(e){200===e.status&&(window.flash("Edited ".concat(e.data.name),"success"),i.props.history.push("/projects/".concat(e.data.owner,"/").concat(e.data.newurl)))}),(function(e){window.flash("An error occured","error"),console.error(e)}))):this.setState({errors:c});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsx)(a.Fragment,{children:e.state.loaded?e.state.oldProject?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Edit Project"}),Object(a.jsxs)(w.a,{onSubmit:e.handleSubmit,children:[Object(a.jsx)(q,{inputChange:e.handleInputChange,oldData:e.state.oldProject}),Object(a.jsx)(k.a,{errors:e.state.errors}),Object(a.jsx)(l.a,{variant:"info",type:"submit",children:"Save Edit"})]})]})}):Object(a.jsx)("span",{children:"can't find the project"}):Object(a.jsx)("span",{children:"loading..."})})}}]),n}(c.a.Component),_=n(134),Z=n(129),L=function(e){if(-1===e.idx)return Object(a.jsx)(a.Fragment,{});var t=function(){return e.close()},n=e.answers[e.idx],r=n.user,c=void 0===r?{}:r,s=n.answers,i=void 0===s?{}:s,o=Object.keys(i).map((function(e,t){return Object(a.jsxs)("div",{children:[e+": "+i[e],Object(a.jsx)("br",{})]},t)}));return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(_.a,{show:e.on,onHide:t,children:[Object(a.jsx)(_.a.Header,{closeButton:!0,children:Object(a.jsx)(_.a.Title,{children:c.fullname+"'s Answer"})}),Object(a.jsx)(_.a.Body,{children:o}),Object(a.jsx)(_.a.Footer,{children:Object(a.jsx)(l.a,{variant:"secondary",onClick:t,children:"Close"})})]})})},G=function(e){var t=Object(r.useState)([]),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(!1),o=Object(j.a)(i,2),u=o[0],h=o[1],d=Object(r.useState)(!1),b=Object(j.a)(d,2),O=b[0],f=b[1],x=Object(r.useState)(-1),m=Object(j.a)(x,2),g=m[0],v=m[1];Object(r.useEffect)((function(){p.a.get("/app/projects/answer/".concat(e.id)).then((function(e){return e.data})).then((function(e){return s(e)})).catch((function(e){return console.error(e)}))}),[e.id,u]);var C=Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Z.a,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Username"}),Object(a.jsx)("th",{children:"Answer"}),Object(a.jsx)("th",{children:"Accept"}),Object(a.jsx)("th",{children:"Reject"})]})}),Object(a.jsx)("tbody",{children:c.map((function(t,n){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n+1}),Object(a.jsx)("td",{children:t.user.username}),Object(a.jsx)("td",{children:Object(a.jsx)(l.a,{variant:"info",onClick:function(){return function(e){v(e),f(!0)}(n)},children:"Show"})}),Object(a.jsx)("td",{children:Object(a.jsx)(l.a,{variant:"success",onClick:function(){return n=t._id,void p.a.get("/app/projects/accept/".concat(e.id,"?r=").concat(n)).then((function(e){return e.data})).then((function(e){return s(e)})).catch((function(e){return console.error(e)})).finally((function(){return e.onChange()}));var n},children:"Accept"})}),Object(a.jsx)("td",{children:Object(a.jsx)(l.a,{variant:"danger",onClick:function(){return n=t._id,void p.a.get("/app/projects/reject/".concat(e.id,"?r=").concat(n)).then((function(e){return e.data})).then((function(e){return s(e)})).catch((function(e){return console.error(e)})).finally((function(){return e.onChange()}));var n},children:"Reject"})})]},t._id)}))})]})});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(l.a,{variant:"info",onClick:function(){return h(!u)},children:"Show answers"}),Object(a.jsx)(L,{idx:g,answers:c,on:O,close:function(){return f(!1)}}),u&&Object(a.jsx)(a.Fragment,{children:C})]})},N=function(e){var t=e.project,n=t.owner,r=t.workers;return Object(a.jsx)(a.Fragment,{children:t&&n&&r?Object(a.jsx)(O.a,{bg:"white",text:"black",style:{width:"18rem"},className:"mb-2",children:Object(a.jsxs)(O.a.Body,{children:[Object(a.jsx)(O.a.Title,{children:t.name}),Object(a.jsxs)(O.a.Text,{children:["by ",n.username]}),Object(a.jsx)(O.a.Text,{children:t.description}),Object(a.jsxs)(O.a.Text,{children:["employees:"," ",r.map((function(e){return Object(a.jsxs)("span",{children:[Object(a.jsx)(h.b,{to:"/users/".concat(e.username),children:e.username}),", "]},e._id)}))]}),Object(a.jsx)(O.a.Text,{children:"tags:"}),Object(a.jsx)(O.a.Text,{children:t.tags.map((function(e,t){return Object(a.jsx)(l.a,{variant:"outline-earthbrown",children:e},t)}))})]})}):Object(a.jsx)("span",{children:"can't display the project"})})},Q=function(e){return Object(a.jsx)(h.b,{to:"/projects/edit/".concat(e.id),children:Object(a.jsx)(l.a,{variant:"outline-info",children:"Edit"})})},R=function(e){var t=Object(s.f)(),n=Object(r.useState)(!1),c=Object(j.a)(n,2),i=c[0],h=c[1],d=Object(r.useState)(!1),b=Object(j.a)(d,2),O=b[0],f=b[1],x=Object(r.useState)(!1),m=Object(j.a)(x,2),g=m[0],v=m[1],C=function(){var n=Object(u.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!1===g)h(!0),f(!0);else try{p.a.delete("/app/projects/".concat(e.id)).then((function(e){200===e.status&&t.push("/projects")}))}catch(a){console.error(a)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(l.a,{onClick:C,disabled:O,variant:"outline-danger",children:"Delete"}),i&&Object(a.jsx)("div",{children:Object(a.jsxs)(w.a.Group,{className:"mb-3",children:[Object(a.jsx)(w.a.Label,{children:"Enter project's name and hit Delete again"}),Object(a.jsx)(w.a.Control,{autoFocus:!0,onChange:function(t){t.target.value===e.confirmationText?(f(!1),v(!0)):(f(!0),v(!1))},name:"confirmationtext"})]})})]})},B=function(e){var t=Object(r.useState)(null),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(!1),o=Object(j.a)(i,2),u=o[0],l=o[1],h=Object(r.useState)(null),d=Object(j.a)(h,2),b=d[0],O=d[1],f=Object(r.useState)(!1),x=Object(j.a)(f,2),m=x[0],g=x[1];Object(r.useEffect)((function(){var t=function(e){if(e.response){if(403===e.response.status)return;if(500===e.response.status)return O("Internal server error");O(e.response.data)}else O("An unknown error occured");g(!1),console.error(e)};p.a.get("/app/projects/".concat(e.match.params.user,"/").concat(e.match.params.project)).then((function(e){return e.data})).then((function(e){var n;s(e),n=e._id,p.a.get("/app/projects/checkownership/".concat(n)).then((function(e){return e.data})).then((function(e){return e})).then((function(){return g(!0)})).catch(t)})).catch(t).finally((function(){return l(!0)}))}),[e.match.params.project,e.match.params.user]);var v=function(){l(!1);p.a.get("/app/projects/".concat(e.match.params.user,"/").concat(e.match.params.project)).then((function(e){return e.data})).then((function(e){s(e)})).catch((function(e){if(e.response){if(403===e.response.status)return;if(500===e.response.status)return O("Internal server error");O(e.response.data)}else O("An unknown error occured");g(!1),console.error(e)})).finally((function(){return l(!0)}))};return Object(a.jsx)(a.Fragment,{children:u?b?Object(a.jsx)("span",{children:b}):Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:c.name}),Object(a.jsx)(N,{project:c}),m&&Object(a.jsxs)(a.Fragment,{children:[c.questions.length>0?Object(a.jsx)("div",{children:Object(a.jsx)(G,{onChange:v,id:c._id})}):Object(a.jsx)(a.Fragment,{}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Q,{id:c._id}),Object(a.jsx)(R,{id:c._id,confirmationText:c.name})]})]})]})," "]}):Object(a.jsx)("span",{children:"loading..."})})};t.default=function(){return Object(a.jsxs)(s.c,{children:[Object(a.jsx)(s.a,{exact:!0,path:"/projects",component:x}),Object(a.jsx)(s.a,{path:"/projects/create",component:z}),Object(a.jsx)(s.a,{path:"/projects/edit/:id",component:P}),Object(a.jsx)(s.a,{path:"/projects/:user/:project",component:B})]})}}}]);
//# sourceMappingURL=7.eca4077b.chunk.js.map