{"version":3,"sources":["Services/getUser.js","Pages/Routes/Users/Me.js"],"names":["a","axios","get","res","Result","data","console","error","getUser","Me","props","useState","setError","history","useHistory","useEffect","user","push","username","reqUser"],"mappings":"iMAIA,8BAAAA,EAAA,+EAIwBC,IAAMC,IAAI,iBAJlC,OAIYC,EAJZ,OAKQC,EAASD,EAAIE,KALrB,gDAQQC,QAAQC,MAAR,MACAH,EAAS,KATjB,iCAYWA,GAZX,0D,sBAeeI,I,uJCQAC,UAvBJ,SAACC,GAAW,IAAD,EACQC,mBAAS,MADjB,mBACXJ,EADW,KACJK,EADI,KAEdC,EAAUC,cAYd,OAVAC,qBAAU,YACO,uCAAG,4BAAAf,EAAA,sEACKQ,cADL,QACRQ,EADQ,QAEFH,EAAQI,KAAR,iBAAuBD,EAAKE,WACjCN,EAAS,kCAHF,2CAAH,qDAMbO,KACD,CAACN,IAGA,mCAEKN,EAAU,+BAAOA,IAAgB","file":"static/js/11.3cfbfa7d.chunk.js","sourcesContent":["import axios from 'axios';\n\n// returns { user }\n\nasync function getUser () {\n    let Result;\n\n    try {\n        let res = await axios.get('/app/users/me');\n        Result = res.data;\n    }\n    catch (err) {\n        console.error(err);\n        Result = null;\n    }\n\n    return Result;\n}\n\nexport default getUser","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport getUser from '../../../Services/getUser';\n\nconst Me = (props) => {\n    const [error, setError] = useState(null);\n    let history = useHistory();\n    \n    useEffect(() => {\n        const reqUser = async () => {\n            let user = await getUser();\n            if (user) history.push(`/users/${user.username}`);\n            else setError(\"You have to be logged in first\"); \n        }\n\n        reqUser();\n    }, [history])\n\n    return (\n        <>\n        {\n            (error) ?  <span>{error}</span> : <></>\n        }\n        </>\n    );\n}\n\nexport default Me;"],"sourceRoot":""}