(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10],{122:function(e,t,a){"use strict";var n=a(3),r=a(4),c=a(5),s=a.n(c),i=a(1),o=a.n(i),u=a(6),l=a(24),d=a(44),j=a(45),b=o.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,i=e.variant,l=e.as,d=void 0===l?"img":l,j=Object(r.a)(e,["bsPrefix","className","variant","as"]),b=Object(u.a)(a,"card-img");return o.a.createElement(d,Object(n.a)({ref:t,className:s()(i?b+"-"+i:b,c)},j))}));b.displayName="CardImg",b.defaultProps={variant:null};var h=b,O=Object(d.a)("h5"),m=Object(d.a)("h6"),f=Object(l.a)("card-body"),p=Object(l.a)("card-title",{Component:O}),x=Object(l.a)("card-subtitle",{Component:m}),v=Object(l.a)("card-link",{Component:"a"}),g=Object(l.a)("card-text",{Component:"p"}),y=Object(l.a)("card-header"),w=Object(l.a)("card-footer"),k=Object(l.a)("card-img-overlay"),S=o.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,l=e.bg,d=e.text,b=e.border,h=e.body,O=e.children,m=e.as,p=void 0===m?"div":m,x=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),v=Object(u.a)(a,"card"),g=Object(i.useMemo)((function(){return{cardHeaderBsPrefix:v+"-header"}}),[v]);return o.a.createElement(j.a.Provider,{value:g},o.a.createElement(p,Object(n.a)({ref:t},x,{className:s()(c,v,l&&"bg-"+l,d&&"text-"+d,b&&"border-"+b)}),h?o.a.createElement(f,null,O):O))}));S.displayName="Card",S.defaultProps={body:!1},S.Img=h,S.Title=p,S.Subtitle=x,S.Body=f,S.Link=v,S.Text=g,S.Header=y,S.Footer=w,S.ImgOverlay=k;t.a=S},137:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(1),c=a.n(r),s=a(7),i=a(13),o=a(122),u=a(100),l=a(14),d=a(41),j=a.n(d),b=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(o.a,{bg:"white",text:"black",style:{width:"18rem"},className:"mb-2",children:[Object(n.jsxs)(o.a.Body,{children:[Object(n.jsx)(o.a.Title,{children:e.user.username}),Object(n.jsx)(o.a.Text,{children:e.user.email})]}),Object(n.jsx)(l.b,{to:"/users/".concat(e.url),className:"d-flex justify-content-center mb-3",children:Object(n.jsx)(u.a,{variant:"outline-info",type:"submit",children:"View"})})]})})},h=function(e){var t=Object(r.useState)([]),a=Object(i.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],d=u[1],h=Object(r.useState)(null),O=Object(i.a)(h,2),m=O[0],f=O[1],p=c.map((function(e){return Object(n.jsx)(b,{url:e.username,user:e},e._id)}));Object(r.useEffect)((function(){j.a.get("/app/users").then((function(e){return e.data})).then((function(e){s(e)})).then((function(){return d(!0)})).catch((function(e){e.response?401===e.response.status?f("You need to be logged in first"):500===e.response.status?f("internal server error"):f(e.response.data):f("an unknown error occured"),d(!0),console.error(e)}))}),[]);return Object(n.jsx)(n.Fragment,{children:l?m?Object(n.jsx)("span",{children:m}):Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Users"}),Object(n.jsxs)("div",{id:"userLinks",children:[Object(n.jsx)("h4",{children:"User Links"}),Object(n.jsx)("div",{className:"d-flex flex-wrap",children:p})]})]})," "]}):Object(n.jsx)("span",{children:"loading..."})})},O=a(19),m=a.n(O),f=a(26),p=a(107),x=a(108),v=a(106),g=a(110),y=a(109),w=a(125),k=a(111),S=a(121),C=function(e){Object(g.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={data:{},errors:{},oldUserData:null,loaded:!1},n.handleSubmit=n.handleSubmit.bind(Object(v.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(v.a)(n)),n.validateData=n.validateData.bind(Object(v.a)(n)),n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this;j.a.get("/app/users/".concat(this.props.match.params.username)).then((function(e){return e.data})).then((function(t){e.setState({oldUserData:t})})).catch((function(e){console.error(e)})).finally((function(){return e.setState({loaded:!0})}))}},{key:"handleInputChange",value:function(e){this.setState({data:e})}},{key:"validateData",value:function(e){var t=Object(k.a)(e),a=t.valid,n=t.invalidData;return a?(this.setState({errors:{}}),!0):(this.setState({errors:n}),!1)}},{key:"handleSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,r,c,s,i=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),delete(a=this.state.data).username,delete a.password,n=Object(k.a)(a),r=n.valid,c=n.invalidData,r?(s={headers:{"Content-Type":"application/json"}},j.a.put("/app/users/".concat(this.props.match.params.username),a,s).then((function(e){200===e.status&&i.props.history.push("/users/".concat(i.props.match.params.username))}),(function(e){console.error(e)}))):this.setState({errors:c});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:e.state.loaded?e.state.oldUserData?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Edit user information"}),Object(n.jsx)(w.a,{onSubmit:e.handleSubmit,noValidate:!0,children:Object(n.jsx)(S.a,{inputChange:e.handleInputChange,oldData:e.state.oldUserData,edit:!0,errors:e.state.errors,validate:e.validateData})})]})}):Object(n.jsx)("span",{children:"can't find the user"}):Object(n.jsx)("span",{children:"loading..."})})}}]),a}(c.a.Component),D=function(e){return Object(n.jsx)(l.b,{to:"/users/".concat(e.username,"/edit"),children:Object(n.jsx)(u.a,{variant:"outline-info",children:"Edit"})})},F=function(e){var t=Object(s.f)(),a=Object(r.useState)(!1),c=Object(i.a)(a,2),o=c[0],l=c[1],d=Object(r.useState)(!1),b=Object(i.a)(d,2),h=b[0],O=b[1],p=Object(r.useState)(!1),x=Object(i.a)(p,2),v=x[0],g=x[1],y=function(){var a=Object(f.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!1===v)l(!0),O(!0);else try{j.a.delete("/app/users/".concat(e.username)).then((function(e){200===e.status&&t.push("/users")}))}catch(n){console.error(n)}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)(u.a,{onClick:y,disabled:h,variant:"outline-danger",children:"Delete"}),o?Object(n.jsx)("div",{children:Object(n.jsxs)(w.a.Group,{className:"mb-3",children:[Object(n.jsx)(w.a.Label,{children:"Enter User's name and hit Delete again"}),Object(n.jsx)(w.a.Control,{autoFocus:!0,onChange:function(t){t.target.value===e.username?(O(!1),g(!0)):(O(!0),g(!1))},name:"confirmationtext"})]})}):Object(n.jsx)(n.Fragment,{})]})},T=function(e){var t=e.user;return Object(n.jsx)(o.a,{bg:"white",text:"black",style:{width:"18rem"},className:"mb-2",children:Object(n.jsxs)(o.a.Body,{children:[Object(n.jsx)(o.a.Title,{children:t.username}),Object(n.jsxs)(o.a.Text,{children:["full name: ",t.fullname]}),Object(n.jsxs)(o.a.Text,{children:["email: ",t.email]}),Object(n.jsxs)(o.a.Text,{children:["birthday: ","".concat(t.birthday.day,"/").concat(t.birthday.month,"/").concat(t.birthday.year)]}),Object(n.jsx)(o.a.Text,{children:"interests:"}),Object(n.jsx)(o.a.Text,{children:t.interests.map((function(e,t){return Object(n.jsx)(u.a,{variant:"outline-earthbrown",children:e},t)}))}),function(){var e={education:[],work:[]},a=t.experiences;for(var r in a)!a.hasOwnProperty(r)||"education"!==r&&"work"!==r||(e[r]=a[r]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(o.a.Text,{children:"education:"}),e.education.map((function(e,t){return Object(n.jsx)(o.a.Text,{children:"".concat(e.title,": ").concat(e.value)},t)})),Object(n.jsx)(o.a.Text,{children:"work:"}),e.work.map((function(e,t){return Object(n.jsx)(o.a.Text,{children:"".concat(e.title,": ").concat(e.value)},t)}))]})}()]})})},N=function(e){var t=Object(r.useState)(null),a=Object(i.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],d=u[1],b=Object(r.useState)(null),h=Object(i.a)(b,2),O=h[0],m=h[1],f=Object(r.useState)(!1),p=Object(i.a)(f,2),x=p[0],v=p[1];Object(r.useEffect)((function(){var t=function(e){if(e.response){if(403===e.response.status)return;500===e.response.status?m("internal server error"):m(e.response.data)}else m("an unknown error occured");v(!1),console.error("oh no",e)};j.a.get("/app/users/".concat(e.match.params.username)).then((function(e){return e.data})).then((function(e){return s(e)})).then((function(){return j.a.get("/app/users/checkownership/".concat(e.match.params.username)).then((function(e){return e.data})).then((function(e){return e})).then((function(){return v(!0)})).catch(t)})).catch(t).finally((function(){return d(!0)}))}),[e.match.params.username]);return Object(n.jsx)(n.Fragment,{children:l?O?Object(n.jsx)("span",{children:O}):Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h1",{children:["View ",c.username]}),Object(n.jsx)(T,{user:c}),x&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D,{username:e.match.params.username}),Object(n.jsx)(F,{username:c.username})]})]})," "]}):Object(n.jsx)("span",{children:"loading..."})})};t.default=function(){return Object(n.jsxs)(s.c,{children:[Object(n.jsx)(s.a,{exact:!0,path:"/users",component:h}),Object(n.jsx)(s.a,{path:"/users/:username/edit",component:C}),Object(n.jsx)(s.a,{path:"/users/:username",component:N})]})}}}]);
//# sourceMappingURL=10.93eee97a.chunk.js.map